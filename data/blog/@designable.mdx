---
title: designableé¡¹ç›®
date: '2023-4-27'
tags: []
draft: false
summary: ''
---

<TOCInline toc={props.toc} exclude="Overview" asDisclosure />

## æ·»åŠ ç»„ä»¶

> è¡¨å•è®¾è®¡å™¨çš„åŸºæœ¬åº”ç”¨å…¶å®å°±ä¸‰ä¸ªå—ï¼Œå³å·¦ä¾§ç»„ä»¶åŒºåŸŸï¼Œä¸­é—´ç»„ä»¶å‘ˆç°åŒºåŸŸï¼Œå³ä¾§ç»„ä»¶è®¾ç½®åŒºåŸŸã€‚è¡¨å•è®¾è®¡å™¨ä½¿ç”¨äº† Formily çš„è¡¨å•æ–¹æ¡ˆä¸ºå³ä¾§é…ç½®å®ç°ï¼Œæ›´é‡è¦çš„æ˜¯éƒ½æ˜¯åŸºäº JSONSCHEMA çš„ï¼Œè¿™æ ·å¤§å®¶å°±å¥½ç†è§£ã€‚

- ç»„ä»¶åŒºåŸŸï¼ˆå·¦ä¾§ï¼‰ï¼Œè¡¨å•è®¾è®¡å™¨æ‰€éœ€è¦çš„ç»„ä»¶åŒæ ·éœ€è¦æ¡¥æ¥æ‰èƒ½åœ¨è¡¨å•è®¾è®¡å™¨ä½¿ç”¨ï¼Œä½†æ˜¯è¿™ä¸ªæ¡¥æ¥æ›´å¤šçš„æ˜¯ä½¿ç”¨ json æè¿°ç„¶åè®©è¡¨å•è®¾è®¡å™¨èƒ½å¤Ÿæ¥æ”¶ç»„ä»¶è€ŒéæŒ‡çš„æ˜¯åŠŸèƒ½ï¼Œå³ä¸€ä¸ª Formily ç»„ä»¶éœ€è¦ç”¨ä¸€äº›åŒ…è£…ï¼ˆjson æè¿°ï¼‰æ‰èƒ½åœ¨è®¾è®¡å™¨å±•ç°ï¼Œä½†æ˜¯è¿™é‡Œçš„åŒ…è£…å’Œå°†ä¸€ä¸ªç»„ä»¶åŒ…è£…æˆ Formily ç»„ä»¶æ¯«æ— å…³ç³»ã€‚ä¸‹é¢æ˜¯åŒ…è£…ä¸€ä¸ªç»„ä»¶åˆ°è¡¨å•è®¾è®¡å™¨

```js:ğŸŒ°
import React from 'react'
import { ComTest as FormilyTest } from './Template.js'
import { createBehavior, createResource } from '@designable/core'
import { DnFC } from '@designable/react'
import { createFieldSchema } from '../../components/Field'
import { AllSchemas } from '../../schemas'
import { AllLocales } from '../../locales'

export const ComTest: DnFC<React.ComponentProps<typeof FormilyTest>> = FormilyTest
//ç»„ä»¶è¡Œä¸º
ComTest.Behavior = createBehavior({
  name: 'ComTest',
  extends: ['Field'],
  selector: (node) => node?.props['x-component'] === 'ComTest', è¿™é‡Œå¿…é¡»å’Œç»„ä»¶åå­—ä¸€æ ·
  designerProps: {
    propsSchema: createFieldSchema(AllSchemas.ComTest), // è¿™é‡Œæ˜¯scheamåˆ›å»ºå³ä¾§çš„é…ç½®é¡¹
  },
  designerLocales: AllLocales.ComTest, // è¿™é‡Œæ˜¯å›½é™…åŒ–æ–‡æœ¬çš„é…ç½®
})
// è¿™é‡Œå¯¹åº”ç»„ä»¶åœ¨å·¦ä¾§çš„è¡¨ç°
ComTest.Resource = createResource({
  icon: 'SelectSource',
  elements: [
    {
      componentName: 'Field',
      props: {
        title: 'ComTest',
        'x-decorator': 'FormItem',
        'x-component': 'ComTest',
      },
    },
  ],
})


```

`Resource å®šä¹‰äº†ç»„ä»¶åœ¨è¡¨å•è®¾è®¡å™¨ä¸­çš„å¤–è§‚ï¼Œè€Œ Behavior å®šä¹‰äº†ç”¨æˆ·åœ¨ä½¿ç”¨ç»„ä»¶æ—¶å¯ä»¥è¿›è¡Œçš„é…ç½®é€‰é¡¹ã€‚ AllSchemas.ComTest æ˜¯ä¸€ç»„æ•°æ®ç»“æ„ï¼Œç”¨äºæè¿°ç”¨æˆ·åœ¨è¡¨å•è®¾è®¡å™¨ä¸­é€‰æ‹©ç»„ä»¶æ—¶å¯ä»¥é…ç½®çš„å±æ€§ã€‚ è¿™äº›å±æ€§çš„å€¼ä¼šè¢«ä¼ é€’ç»™ç»„ä»¶ï¼Œä»¥ä¾¿ç»„ä»¶ä½¿ç”¨è¿™äº›å€¼æ¥å®ç°å…¶åŠŸèƒ½ã€‚ å› æ­¤ï¼ŒAllSchemas.Select ä¸­çš„é…ç½®æ˜¯ä¸ºäº†è®©ç»„ä»¶èƒ½å¤Ÿä½¿ç”¨è¿™äº›æ•°æ®ï¼Œè€Œéç›´æ¥é…ç½®ç»„ä»¶æœ¬èº«ã€‚`
