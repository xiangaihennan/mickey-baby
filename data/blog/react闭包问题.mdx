---
title: react闭包问题。
date: '2021-11-11'
tags: ['react', 'hooks']
draft: false
summary: 'react hooks'
---

hooks 函数状态（props & state）更新时，会重新调用当前函数，

调用时整个函数作用域取的是当前上下文的状态及变量，

如果做一些异步操作时在不更新组件内部状态的情况下 就不会重新调用组件函数，

所以拿到的值只能是上一次函数状态更新时调用时的上下文。

常规解决办法：通过 useRef 可以跨越组件周期的特性 来存取数据
